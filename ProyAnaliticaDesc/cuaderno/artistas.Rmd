---
title: "Analítica Descriptiva Genero Musical"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
plot(cars)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
# cuaderno

```{r}

ruta_archivo1 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_BadBunny.csv"
ruta_archivo2 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_Maluma.csv"
ruta_archivo3 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_Shakira.csv"
ruta_archivo4 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_KarolG.csv"
ruta_archivo5 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_JBalvin.csv"
ruta_archivo6 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_Camilo.csv"
ruta_archivo7 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_CarlosVives.csv"
ruta_archivo8 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_DaddyYankee.csv"
ruta_archivo9 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_MileyCyrus.csv" 
#ruta_archivo9 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_MOrat.csv"
#ruta_archivo10 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_artista_Maroon5.csv"
 


# Leer los archivos CSV y combinarlos en un solo dataframe
data_artistas <- bind_rows(
  read.csv(ruta_archivo1),
  read.csv(ruta_archivo2),
  read.csv(ruta_archivo3),
  read.csv(ruta_archivo4),
  read.csv(ruta_archivo5),
  read.csv(ruta_archivo6),
  read.csv(ruta_archivo7),
  read.csv(ruta_archivo8)
 # read.csv(ruta_archivo9)
 # read.csv(ruta_archivo10),
  #read.csv(ruta_archivo11)
)
#ls()



# Vector de nombres de artistas a filtrar
nombres_artistas <- c("Bad Bunny","Maluma", "Shakira", "Karol G","J. Balvin","Camilo","Carlos Vives","Daddy Yankee","Miley Cyrus","Hannah Montana","Maroon 5","Morat")
# Filtrar por nombres de artistas utilizando subset()
data_filtro_nombres <- subset(data_artistas, Artista %in% nombres_artistas)
#str(data_filtro_nombres)
#head(data_filtro_nombres)


library(ggplot2)
ggplot(data_filtro_nombres, aes(x = Artista)) + #geom_point()

  geom_bar(fill = "lightblue", color = "black") +
  labs(x = "Genero", y = "Year") +
  ggtitle("Number por genero") +
 theme(axis.text.x = element_text(angle = 90, hjust = 1))
  
  library(ggplot2)
ggplot(data_filtro_nombres, aes(x = stilo)) + #geom_point()

  geom_bar(fill = "lightblue", color = "black") +
  labs(x = "Genero", y = "Year") +
  ggtitle("Number por genero") +
 theme(axis.text.x = element_text(angle = 90, hjust = 1))

  

```
(2)
```{r}


ruta_archivo1 <- "C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_Maluma.csv"
ruta_archivo2 <- "C:/Proyectos ML/ProyAnaliticaDesc/artista_Shakira.csv"
ruta_archivo3 <- "C:/Proyectos ML/ProyAnaliticaDesc/artista_KarolG.csv"

# Leer los archivos CSV y combinarlos en un solo dataframe
data_artistas <- bind_rows(
  read.csv(ruta_archivo1)
 
)


frecuencia <- table(data_artistas$stilo)

print(frecuencia)




# Carga los datos del archivo CSV en un data frame
#datos <- read.csv("datos.csv")

# Obtiene las palabras únicas de la columna "genre"
#generos_unicos <- unique(data_artistas$stilo)

# Imprime las palabras únicas
##################################

# Combina los datos repetidos en una sola fila
#datos_combinados <- aggregate(. ~ genre, data = datos, FUN = paste, collapse = ",")
datos_combinados <- aggregate(. ~ stilo,data = data_artistas, FUN = paste, collapse = ",")
# Obtiene las palabras únicas de la columna combinada
generos_unicos <- unique(datos_combinados$stilo)




generos <- unique(generos_unicos$stilo)
print(generos)



datos <- read.csv("C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_Maluma.csv")
# Combina los datos repetidos en una sola fila
datos_combinados <- aggregate(. ~ stilo, data = datos, FUN = paste, collapse = ",")
# Obtiene las palabras únicas de la columna combinada
generos_unicos <- unique(datos_combinados$stilo)
print(generos_unicos)




datos <- read.csv("C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_Maluma.csv")
datos$stilo <- strsplit(datos$stilo, "[ ]+")
#datos$stilo <- unlist(datos$stilo)
fila_combinada <- paste(datos$stilo, collapse = " ")

#salida <- unique(fila_combinada$stilo)
#print(salida)



print(fila_combinada)


##.--------------------------------------------------------------------------------------------
# Datos de ejemplo niko
df <- read.csv("C:/Proyectos ML/ProyAnaliticaDesc/datos/artista_Maluma.csv")


# Eliminar las comillas simples de los elementos en la columna
df$stilo <- gsub("'", "", df$stilo)
df$stilo <- gsub("\\[|\\]", "", df$stilo)


# Agregar el contenido de las filas en la primera fila de una columna específica
df$nueva_columna <- paste(df[, "stilo"], collapse = " ")

#print(df$nueva_columna)
# -----df2 <- unique(df$nueva_columna)
# -----print(xx)




# Crear un data frame de ejemplo
#df <- data.frame(fila = c("palabra1 palabra2 palabra1 palabra3"))

# Dividir la fila en palabras individuales
palabras <- strsplit(df$nueva_columna, " ")[[1]]

# Eliminar las palabras repetidas
palabras_unicas <- unique(palabras)

# Unir las palabras en una sola cadena
fila_unicas <- paste(palabras_unicas, collapse = ",")

# Imprimir el resultado
print(fila_unicas)
#-------------------------



datos_combinados <- aggregate(. ~ palabras_unicas, data = fila_unicas, FUN = paste, collapse = ",")
# Obtiene las palabras únicas de la columna combinada
generos_unicos <- unique(datos_combinados$stilo)
print(generos_unicos)

# Crear un data frame de ejemplo


# Separar las palabras con una coma
df$fila_separada <- paste(strsplit(fila_unicas$nu, " ")[[1]], collapse = ", ")

# Imprimir el resultado
print(df$fila_separada)












datos_combinados <- aggregate(. ~ stilo, data = df, FUN = paste, collapse = ",")
# Obtiene las palabras únicas de la columna combinada
generos_unicos <- unique(datos_combinados$stilo)
print(generos_unicos)


# Imprimir el resultado
#print(df$stilo)

datos_combinados <- aggregate(. ~ stilo, data = df, FUN = paste, collapse = ",")
# Obtiene las palabras únicas de la columna combinada
generos_unicos <- unique(datos_combinados$stilo)
print(generos_unicos)



# Agregar el contenido de las filas en la primera fila de una columna específica
df$nueva_columna <- paste(df[, "columna"], collapse = " ")

##.--------------------------------------------------------------------------------------------





###################

 df_estilo <-subset(data_artistas, select = stilo)


print(df_estilo)


generos <- c('Batucada', 'Downtempo', 'House', 'Latin', 'Dance-pop', 'Ballad', 'Trap', 'Fado', 'Dancehall')



  
```